\documentclass{minitelreport}

\graphicspath{
	{sections/part1/images/}
	{sections/part2/images/}
	{sections/part3/images/}
	{sections/part4/images/}
}

\usepackage[backend=biber,style=numeric, sorting=nty]{biblatex}
\addbibresource{references/bibliographie.bib}
\addbibresource{references/webographie.bib}
\addglobalbib{./references/bibliographie.bib}
\addglobalbib{./references/webographie.bib}

%%%%%%%%%%%%
% Counters %
%%%%%%%%%%%%

% Compteur des exercices

\newcounter{exercisescounter}
\setcounter{exercisescounter}{0}

\newcommand{\exercise}[2]{
	\refstepcounter{exercisescounter}
	\textbf{Exercice \arabic{exercisescounter}\ifthenelse{\equal{#1}{}}{}{\label{exercise:#1} (#1)} [#2].}
}

\newcommand{\refexercise}[1]{
	\textbf{Exercice \ref{exercise:#1}}
}

% Compteur de solutions

\newcounter{solutioncounter}
\setcounter{solutioncounter}{0}

\newcommand{\solution}[1]{
	\stepcounter{solutioncounter}
	\textbf{Solution \arabic{solutioncounter}\ifthenelse{\equal{#1}{}}{}{\label{solution:#1} (#1)}.}
}

\newcommand{\listdefinitionsname}{Liste des définitions}
\newlistof{definition}{def}{\listdefinitionsname}

\newcommand{\definition}[2]{
	\refstepcounter{definition}
	\begin{minitelbasicbox}{\textbf{Définition \arabic{definition}\IfNoValueF{#1}{\label{definition:#1} : #1}}}
#2
	\end{minitelbasicbox}
	\addcontentsline{def}{figure}{\protect\numberline{\thesection.\thedefinition}\qquad#1}
}

\newcommand{\refdefinition}[1]{
	\textbf{Définition \ref{definition:#1}}
}

\newcounter{propositioncounter}
\setcounter{propositioncounter}{0}

\newcommand{\proposition}[1]{
	\refstepcounter{propositioncounter}
	\textbf{Proposition \arabic{propositioncounter}\ifthenelse{\equal{#1}{}}{}{\label{prop:#1} (#1)}.}
}

\newcommand{\refproposition}[1]{
	\textbf{Proposition \ref{prop:#1}}
}

\newcounter{lemmacounter}
\setcounter{lemmacounter}{0}

\newcommand{\lemma}[1]{
	\refstepcounter{lemmacounter}
	\textbf{Lemme \arabic{lemmacounter}\ifthenelse{\equal{#1}{}}{}{\label{lemma:#1} (#1)}.}
}

\newcommand{\reflemma}[1]{
	\textbf{Lemme \ref{lemma:#1}}
}

\usepackage{subfiles}
\begin{document}
	\title{Algo/Prog}
	% \subtitle{pour les (pas) nuls}
	\variant{loin d'être finie}
	\author{
		B. Garnier
		% \\ A. Utre
	}
	\licence{CC-BY-NC-SA}
	% date : automatique, sert de version
	\maketitle
\begin{refsection} % enlève des warnings et des bugs sur les réfèrences longue portée (biblio ou multifichier)
TODO (pour indiquer ce qui n'est pas encore fait histoire de pas (trop) décevoir) :
\begin{itemize}
	\item le chapitre \ref{chap:concepts_avances} n'a que très peu d'exercices
	\item raisonnements sur les algorithmes (ce qui peut être frustrant puisque certains exercices peuvent nécessiter de savoir faire)
	\item il manque les solutions des exercices de la partie 3
	\item tables de hachage : load factor et analyse de complexité 
	\item algorithmes sur graphes valués : dijkstra, johnson (et aucune illustration pour faire passer la pilule formelle)
	\item algo sur les flots
	\item détail des opérations de tamisage de tas
	\item Approches algorithmiques
	\item Partie 4 : GDB, Git, Programmation propre, opt constantes
\end{itemize}
À réfléchir pour mettre en annexe toutes les démonstrations longues dont seuls importent les résultats. Dépendra des avis. Pour l'instant, les démos sont à la suite des propositions.
\section*{Préface}
\subfile{sections/preface}
\tableofcontents
\listofdefinition
\listoftables
\newpage
\part{Prolégomènes}
\label{part:prol_gom_nes}
	\phantomsection
	\section*{Introduction de l'introduction}
	\addcontentsline{toc}{section}{Introduction de l'introduction}
	\subfile{sections/part1/introduction}
	\chapter{Les données}
	\label{cha:les_donn_es}
		\subfile{sections/part1/chapter1/chapter1}
	\chapter{L'ordinateur}
	\label{cha:l_ordinateur}
		\subfile{sections/part1/chapter2/chapter2}
	\chapter{Premières notions de programmation}
	\label{cha:programmer_un_ordinateur}
		\subfile{sections/part1/chapter3/chapter3}
\part{Du langage C}
\label{part:du_langage_c}
	\phantomsection
	\section*{Introduction}
	\addcontentsline{toc}{section}{Introduction}
	\subfile{sections/part2/introduction}
	\chapter{Fondamentaux du langage}
	\label{chap:fondamentaux_du_langage}
		\subfile{sections/part2/chapter1/chapter1}
	\chapter{Bases du langage}
	\label{chap:bases_du_langage}
		\section{Variables}
			\label{sec:variables}
			\subfile{sections/part2/chapter2/variables}
		\section{Formatage de texte}
			\label{sec:formatage_du_texte}
			\subfile{sections/part2/chapter2/formatage}
		\section{Opérateurs sur les variables}
			\label{sec:operateurs_variables}
			\subfile{sections/part2/chapter2/operateurs}
		\section{Projection de type}
			\label{sec:projection_type}
			\subfile{sections/part2/chapter2/projections}
		\section{Structures de contrôle}
			\label{sec:structures_controle}
			\subfile{sections/part2/chapter2/controle_structures}
		\section{Routines}
			\label{sec:routines}
			\subfile{sections/part2/chapter2/routines}
		\section{Pointeurs}
			\label{sec:pointeurs}
			\subfile{sections/part2/chapter2/pointeurs}
		\section{Interagir avec les flux standards}
			\label{sec:flux_standards}
			\subfile{sections/part2/chapter2/stdstreams}
		\section{Tableaux statiques}
			\label{sec:tableaux_statiques}
			\subfile{sections/part2/chapter2/tab_statiques}
		\section{Allocation dynamique}
			\label{sec:allocation_dynamique}
			\subfile{sections/part2/chapter2/tab_dynamiques}
		\section{Tableaux multidimensionnels}
			\label{sec:tableaux_multidimensionnels}
			\subfile{sections/part2/chapter2/tab_multidim}
		\section{Structures}
			\label{sec:structures}
			\subfile{sections/part2/chapter2/structures}
		\section{Modulation et entêtes}
			\label{sec:modulation_et_entetes}
			\subfile{sections/part2/chapter2/modulation}
		\section{Chaînes de caractères}
			\label{sec:chaines_caracteres}
			\subfile{sections/part2/chapter2/chaines_caracteres}
		\section{Les flux de fichiers}
			\label{sec:flux_fichiers}
			\subfile{sections/part2/chapter2/flux_fichiers}
	\chapter{Concepts avancés}
	\label{chap:concepts_avances}
		\section{Virgule et expressions}
			\label{sec:virgule_et_expressions}
			\subfile{sections/part2/chapter3/comma}
		\section{Paramètres d'un programme}
			\label{sec:parametres_programme}
			\subfile{sections/part2/chapter3/prgm_args}
		\section{Énumérations}
			\label{sec:enums}
			\subfile{sections/part2/chapter3/enums}
		\section{Unions}
			\label{sec:unions}
			\subfile{sections/part2/chapter3/union}
		\section{Champs de bits}
			\label{sec:champs_de_bits}
			\subfile{sections/part2/chapter3/champs_bits}
		\section{Classes de stockage}
			\label{sec:classes_de_stockage}
			\subfile{sections/part2/chapter3/classes_stockage}
		\section{const et restrict}
			\label{sec:const_et_restrict}
			\subfile{sections/part2/chapter3/const_restrict}
		\section{Construction de littéraux}
			\label{sec:construction_de_litt_raux}
			\subfile{sections/part2/chapter3/litteraux}
		\section{Pointeurs de routines}
			\label{sec:pointeurs_de_routines}
			\subfile{sections/part2/chapter3/pointeurs_routines}
		\section{Directives du préprocesseur (2)}
			\label{sec:directives_de_pr_processeurs_2_}
			\subfile{sections/part2/chapter3/preprocessor}
		\section{Routines variadiques}
			\label{sec:routines_variadiques}
			\subfile{sections/part2/chapter3/variadic}
		\section{Assembleur et C}
			\label{sec:assembleur_et_c}
			\subfile{sections/part2/chapter3/assembly}
		\section{Tricks récréatifs (ft. Basile)}
			\label{sec:tricks_r_cr_atifs_ft_basile_}
			\subfile{sections/part2/chapter3/tricks}
\part{Petite parenthèse théorique}
\label{part:petite_parenthèse_théorique}
	\phantomsection
	\section*{Introduction}
	\addcontentsline{toc}{section}{Introduction}
	\subfile{sections/part3/introduction}
	\chapter{Complexité}
	\label{cha:complexite}
		\section{Calcul}
			\label{sec:calcul}
			\subfile{sections/part3/chapter1/calcul}
		\section{Mesures du coût} % comptage des instructions/tours de boucle
			\label{sec:mesures_du_cout}
			\subfile{sections/part3/chapter1/landau}
		% \section{Récurrences} % sur les sous-problèmes
		% 	\label{sec:recurrences}
		% 	\subfile{sections/part3/chapter1/recurrences}
	\chapter{Structures de données}
	\label{cha:structures_de_donn_es_classiques}
	On a défini à la section \ref{sec:variables} les types de données et à la section \ref{sec:structures} les enregistrements. Ce chapitre, intitulé \textit{Structures de données}, semble d'un premier abord répétitif vis-à-vis de ces deux sections. Pourtant, les structures du langage C et les structures de données de manière générale doivent être distinguées puisqu'il s'agit en fait d'un même mot pour désigner deux choses tout à fait différentes.
		\section{Retour sur les types abstraits} % algébrique et classique
			\label{sec:type_abstrait_de_donn_es}
			\subfile{sections/part3/chapter2/type_abstrait}
		\newpage
		\section{Listes}
			\label{sec:listes}
			\subfile{sections/part3/chapter2/listes}
		\newpage
		\section{Arbres binaires}
			\label{sec:arbres_binaires}
			\subfile{sections/part3/chapter2/arbres}
		\newpage
		\section{Files de priorité}
			\label{sec:files_de_priorite}
			\subfile{sections/part3/chapter2/priority_fifo}
		\newpage
		\section{Dictionnaires}
			\label{sec:dictionnaires}
			\subfile{sections/part3/chapter2/dictionnaires}
		\newpage
		% \section{Ensembles}
		% 	\label{sec:ensembles}
		% 	\subfile{sections/part3/chapter2/ensembles}
		% \newpage
		\section{Graphes (1)}
			\label{sec:graphes}
			\subfile{sections/part3/chapter2/graphes}
		\newpage
		\section{Partitions d'ensembles finis}
			\label{sec:partitions}
			\subfile{sections/part3/chapter2/partitions}
		\newpage
		% \section{Enrichissement de structures}
		% 	\label{sec:enrichissement_de_structures}
		% 	\subfile{sections/part3/chapter2/enrichissement}
		% \newpage
		\section{Graphes (2) : valuation}
			\label{sec:graphes_values}
			\subfile{sections/part3/chapter2/graphes_values}
		\newpage
		\section{Graphes (3) : flots}
			\label{sec:graphes_et_flots}
			\subfile{sections/part3/chapter2/graphes_flots}
	% \chapter{Approches algorithmiques}
	% \label{cha:approches_algorithmiques}
	% 	\section{Recherche exhaustive}
	% 		\label{sec:recherche_exhaustive}
	% 		\subfile{sections/part3/chapter3/exhaustif}
	% 	\section{Algorithmes gloutons}
	% 		\label{sec:algorithmes_gloutons}
	% 		\subfile{sections/part3/chapter3/gloutons}
	% 	\section{Diviser pour régner}
	% 		\label{sec:diviser_pour_r_gner}
	% 		\subfile{sections/part3/chapter3/dpr}
	% 	\section{Programmation dynamique}
	% 		\label{sec:programmation_dynamique}
	% 		\subfile{sections/part3/chapter3/prgm_dyn}
	% 	\section{Prétraitement}
	% 		\label{sec:pr_traitement}
	% 		\subfile{sections/part3/chapter3/pretraitement}
\part{Le vrai monde de la réalité réelle}
\label{part:le_vrai_monde_de_la_réalité_réelle}
	\phantomsection
	\section*{Introduction}
	\addcontentsline{toc}{section}{Introduction}
	\subfile{sections/part4/introduction}
	\chapter{Outils pour la programmation}
	\label{chap:outils}
		% \section{Se documenter}
		% \subfile{sections/part4/chapter1/trouver_doc}
		% \section{Lire une documentation}
		% 	\label{sec:lire_une_documentation}
		% 	\subfile{sections/part4/chapter1/lire_doc}
		\section{Makefiles}
			\label{sec:makefiles}
			\subfile{sections/part4/chapter2/makefile}
		\section{Utiliser un débugueur}
			\label{sec:utiliser_un_d_bugueur}
			\subfile{sections/part4/chapter2/gdb}
		\section{Git}
			\label{sec:git}
			\subfile{sections/part4/chapter2/git}
		\section{Markdown}
			\label{sec:le_markdown}
			\subfile{sections/part4/chapter2/markdown}
	\chapter{Programmer proprement}
	\label{chap:programmer_proprement}
		\section{À propos du style}
			\label{sec:_propos_du_style}
			\subfile{sections/part4/chapter3/style}
		\section{La gestion des erreurs}
			\label{sec:la_gestion_des_erreurs}
			\subfile{sections/part4/chapter3/erreurs}
		\section{Tests unitaires}
			\label{sec:tests_unitaires}
			\subfile{sections/part4/chapter3/unittests}
		\section{Benchmarks}
			\label{sec:benchmarks}
			\subfile{sections/part4/chapter3/benchmarks}
	% \chapter{Optimisation des constantes}
	% \label{cha:optimisation_des_constantes}
	% 	\section{Le monde n'est pas théorique}
	% 	\section{Cache du processeur}
	% 	\section{Calcul à la compilation}
\part{Annexes}
\label{part:annexes}
	\chapter{Correction des \theexercisescounter\ exercices}
	\label{chap:correction_exercices}
		\subfile{sections/solutions}

%%%%%%%%%%%%%%%%%
% Bibliographie %
%%%%%%%%%%%%%%%%%

\phantomsection
\printbibheading
\printbibliography[type=book,heading=subbibliography,title={Livres}]
% \printbibliography[type=article,heading=subbibliography, title={Articles}]
\printbibliography[type=manual, heading=subbibliography, title={Manuels et documentation}]
\printbibliography[type=online, heading=subbibliography, title={Autres liens}]
\addcontentsline{toc}{chapter}{Bibliographie}
\end{refsection}
\end{document}