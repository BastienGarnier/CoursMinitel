\documentclass{minitelreport}

\graphicspath{
	{sections/part1/images/}
	{sections/part2/images/}
	{sections/part3/imagees}
	{sections/part4/images/}
}

\usepackage[backend=biber,style=numeric, sorting=nty]{biblatex}
\addbibresource{references/bibliographie.bib}
\addbibresource{references/webographie.bib}
\addglobalbib{./references/bibliographie.bib}
\addglobalbib{./references/webographie.bib}

%%%%%%%%%%%%
% Counters %
%%%%%%%%%%%%

% Compteur des exercices

\newcounter{exercisescounter}
\setcounter{exercisescounter}{0}

\newcommand{\exercise}[2]{
	\refstepcounter{exercisescounter}
	\textbf{Exercice \arabic{exercisescounter}\IfNoValueF{#1}{ (#1)} [#2]. \label{exercise:#1}}
}

\newcommand{\refexercise}[1]{
	\textbf{Exercice \ref{exercise:#1}}
}

% Compteur de solutions

\newcounter{solutioncounter}
\setcounter{solutioncounter}{0}

\newcommand{\solution}[1]{
	\stepcounter{solutioncounter}
	\textbf{Solution \arabic{solutioncounter}\IfNoValueF{#1}{ (#1)}.}
}

\newcommand{\listdefinitionsname}{Liste des définitions}
\newlistof{definition}{def}{\listdefinitionsname}

\newcommand{\definition}[2]{
	\refstepcounter{definition}
	\begin{minitelbasicbox}{\textbf{Définition \arabic{definition}\IfNoValueF{#1}{ : #1}}}
#2
	\end{minitelbasicbox}
	\addcontentsline{def}{figure}{\protect\numberline{\thesection.\thedefinition}\qquad#1}
}

\newcounter{propositioncounter}
\setcounter{propositioncounter}{0}

\newcommand{\proposition}[1]{
	\stepcounter{propositioncounter}
	\textbf{Proposition \arabic{propositioncounter}\ifthenelse{\equal{#1}{}}{}{ (#1)}. }
}

\usepackage{subfiles}
\begin{document}
	\title{Informatique}
	\subtitle{Le C pour les (pas) nuls}
	\variant{je-sais-pas-combien-mais-pas-encore-la-1.0}
	\author{
		B. Garnier
		% \\ A. Utre
	}
	\licence{CC-BY-NC-SA}
	% date : automatique
	\maketitle
\begin{refsection} % enlève des warnings et des bogues sur les réfèrences longue portée (biblio ou multifichier)
\section*{Préface}
\subfile{sections/preface}
\tableofcontents
\listoftables
\listofdefinition
\newpage
\part{Prolégomènes}
\label{part:prol_gom_nes}
	\phantomsection
	\section*{Introduction de l'introduction}
	\addcontentsline{toc}{section}{Introduction de l'introduction}
	\subfile{sections/part1/introduction}
	\chapter{L'ordinateur et les données}
	\label{cha:l_ordinateur_et_les_donn_es}
		\subfile{sections/part1/chapter1/chapter1}
	\chapter{Programmer un ordinateur}
		\label{cha:programmer_un_ordinateur}
		\subfile{sections/part1/chapter2/chapter2}
\part{Du langage C}
\label{part:du_langage_c}
	\phantomsection
	\section*{Introduction}
	\addcontentsline{toc}{section}{Introduction}
	\subfile{sections/part2/introduction}
	\chapter{Fondamentaux du langage}
	\label{chap:fondamentaux_du_langage}
		\subfile{sections/part2/chapter1/chapter1}
	\chapter{Bases du langage}
	\label{chap:bases_du_langage}
		\section{Variables}
			\label{sec:variables}
			\subfile{sections/part2/chapter2/variables}
		\section{Formatage de texte}
			\label{sec:formatage_du_texte}
			\subfile{sections/part2/chapter2/formatage}
		\section{Opérateurs sur les variables}
			\label{sec:operateurs_variables}
			\subfile{sections/part2/chapter2/operateurs}
		\section{Projection de type}
			\label{sec:projection_type}
			\subfile{sections/part2/chapter2/projections}
		\section{Structures de contrôle}
			\label{sec:structures_controle}
			\subfile{sections/part2/chapter2/controle_structures}
		\section{Routines}
			\label{sec:routines}
			\subfile{sections/part2/chapter2/routines}
		\section{Pointeurs}
			\label{sec:pointeurs}
			\subfile{sections/part2/chapter2/pointeurs}
		\section{Interagir avec les flux standards}
			\label{sec:flux_standards}
			\subfile{sections/part2/chapter2/stdstreams}
		\section{Tableaux statiques}
			\label{sec:tableaux_statiques}
			\subfile{sections/part2/chapter2/tab_statiques}
		\section{Allocation dynamique}
			\label{sec:allocation_dynamique}
			\subfile{sections/part2/chapter2/tab_dynamiques}
		\section{Tableaux multidimensionnels}
			\label{sec:tableaux_multidimensionnels}
			\subfile{sections/part2/chapter2/tab_multidim}
		\section{Structures}
			\label{sec:structures}
			\subfile{sections/part2/chapter2/structures}
		\section{Modulation et entêtes}
			\label{sec:modulation_et_entetes}
			\subfile{sections/part2/chapter2/modulation}
		\section{Chaînes de caractères}
			\label{sec:chaines_caracteres}
			\subfile{sections/part2/chapter2/chaines_caracteres}
		\section{Les flux de fichiers}
			\label{sec:flux_fichiers}
			\subfile{sections/part2/chapter2/flux_fichiers}
	\chapter{Concepts avancés}
	\label{chap:concepts_avances}
		\section{Virgule et expressions}
			\label{sec:virgule_et_expressions}
			\subfile{sections/part2/chapter3/comma}
		\section{Paramètres d'un programme}
			\label{sec:parametres_programme}
			\subfile{sections/part2/chapter3/prgm_args}
		\section{Unions}
			\label{sec:unions}
			\subfile{sections/part2/chapter3/union}
		\section{Champs de bits}
			\label{sec:champs_de_bits}
			\subfile{sections/part2/chapter3/champs_bits}
		\section{Classes de stockage}
			\label{sec:classes_de_stockage}
			\subfile{sections/part2/chapter3/classes_stockage}
		\section{const et restrict}
			\label{sec:const_et_restrict}
			\subfile{sections/part2/chapter3/const_restrict}
		\section{Construction de littéraux}
			\label{sec:construction_de_litt_raux}
			\subfile{sections/part2/chapter3/litteraux}
		\section{Pointeurs de routines}
			\label{sec:pointeurs_de_routines}
			\subfile{sections/part2/chapter3/pointeurs_routines}
		\section{Directives du préprocesseur (2)}
			\label{sec:directives_de_pr_processeurs_2_}
			\subfile{sections/part2/chapter3/preprocessor}
		\section{Routines variadiques}
			\label{sec:routines_variadiques}
			\subfile{sections/part2/chapter3/variadic}
		\section{Assembleur et C}
			\label{sec:assembleur_et_c}
			\subfile{sections/part2/chapter3/assembly}
		\section{Tricks récréatifs (ft. Basile)}
			\label{sec:tricks_r_cr_atifs_ft_basile_}
			\subfile{sections/part2/chapter3/tricks}
\part{Petite parenthèse théorique}
\label{part:petite_parenthèse_théorique}
	\phantomsection
	\section*{Introduction}
	\addcontentsline{toc}{section}{Introduction}
	\subfile{sections/part3/introduction}
	\chapter{Calculabilité}
	\label{cha:calcul_et_calculabilite}
	\chapter{Complexité}
	\label{cha:complexite}
		\section{Mesures du coût} % comptage des instructions/tours de boucle
		\section{Notation de Landau} % pire, average, amorti
		\section{Récurrences} % sur les sous-problèmes
	\chapter{Structures de données classiques}
	\label{cha:structures_de_donn_es_classiques}
		\section{Type abstrait de données} % algébrique et classique
			\label{sec:type_abstrait_de_donn_es}
		\section{Tableaux}
			\label{sec:tableaux}
		\section{Listes chaînées}
			\label{sec:listes_cha_n_es}
		\section{Partitions}
			\label{sec:partitions}
		\section{Arbres binaires}
			\label{sec:arbres_binaires}
		\section{Dictionnaire et hashage}
			\label{sec:dictionnaire_et_hashage}
		\section{Graphes}
			\label{sec:graphes}
		\section{Enrichissement de structures}
			\label{sec:enrichissement_de_structures}
	\chapter{Approches algorithmiques}
	\label{cha:approches_algorithmiques}
		\section{Recherche exhaustive}
			\label{sec:recherche_exhaustive}
		\section{Algorithmes gloutons}
			\label{sec:algorithmes_gloutons}
		\section{Diviser pour régner}
			\label{sec:diviser_pour_r_gner}
		\section{Programmation dynamique}
			\label{sec:programmation_dynamique}
		\section{Prétraitement}
			\label{sec:pr_traitement}
\part{Le vrai monde de la réalité réelle}
\label{part:le_vrai_monde_de_la_réalité_réelle}
	\phantomsection
	\section*{Introduction}
	\addcontentsline{toc}{section}{Introduction}
	\subfile{sections/part4/introduction}
	\chapter{Outils à la programmation}
	\label{chap:outils}
		% \section{Se documenter}
		% \subfile{sections/part4/chapter1/trouver_doc}
		% \section{Lire une documentation}
		% 	\label{sec:lire_une_documentation}
		% 	\subfile{sections/part4/chapter1/lire_doc}
		\section{Makefiles}
			\label{sec:makefiles}
			\subfile{sections/part4/chapter2/makefile}
		\section{Utiliser un débogueur}
			\label{sec:utiliser_un_d_bogueur}
			\subfile{sections/part4/chapter2/gdb}
		\section{Git}
			\label{sec:git}
			\subfile{sections/part4/chapter2/git}
		\section{Markdown}
			\label{sec:le_markdown}
			\subfile{sections/part4/chapter2/markdown}
	\chapter{Programmer proprement}
	\label{chap:programmer_proprement}
		\section{À propos du style}
			\label{sec:_propos_du_style}
			\subfile{sections/part4/chapter3/style}
		\section{La gestion des erreurs}
			\label{sec:la_gestion_des_erreurs}
			\subfile{sections/part4/chapter3/erreurs}
		\section{Tests unitaires}
			\label{sec:tests_unitaires}
			\subfile{sections/part4/chapter3/unittests}
		\section{Benchmarks}
			\label{sec:benchmarks}
			\subfile{sections/part4/chapter3/benchmarks}
	\chapter{Optimisation des constantes}
	\label{cha:optimisation_des_constantes}
		\section{Le monde n'est pas théorique}
		\section{Cache du processeur}
		\section{Calcul à la compilation}
\part{Annexes}
\label{part:annexes}
	\chapter{Correction des \theexercisescounter\ exercices}
	\label{chap:correction_exercices}
		\subfile{sections/solutions}

%%%%%%%%%%%%%%%%%
% Bibliographie %
%%%%%%%%%%%%%%%%%

\phantomsection
\printbibheading
\printbibliography[type=book,heading=subbibliography,title={Livres}]
% \printbibliography[type=article,heading=subbibliography, title={Articles}]
\printbibliography[type=manual, heading=subbibliography, title={Manuels et documentation}]
\printbibliography[type=online, heading=subbibliography, title={Autres liens}]
\addcontentsline{toc}{chapter}{Bibliographie}
\end{refsection}
\end{document}